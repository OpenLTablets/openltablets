
<html>

  <head>
    <link href="Exigenstyle.css" rel="stylesheet" type="text/css">

    <title>
Decision Table
    </title>

    <script>
var file_name="Ref_DecisionTable.html"
    </script>

  </head>

  <body>

    <h3>
<a name="decision_table20"></a><a name="_Decision_Table"></a>Decision Table
    </h3>
 

    <p class="MsoBodyText">
A <b>decision table</b> contains a set of rules describing decision situations where the state
of a number of conditions determines the execution of a set of actions.
It is the basic table type used in
<a name="OLE_LINK6"></a><a name="OLE_LINK5"></a>OpenL Tablets decision making.
    </p>
 

    <p class="MsoBodyText">
The following topics are described in this section:
    </p>
 

    <ul>
      <li>

        <p>
<a href="Ref_DecisionTable.html#_Decision_Table_Structure">Decision Table Structure</a>
        </p>

      </li>
      <li>

        <p>
<a href="Ref_DecisionTable.html#_Decision_Table_Interpretation">Decision Table Interpretation</a>
        </p>

      </li>
      <li>

        <p>
<a href="Ref_DecisionTable.html#_Transposed_Decision_Tables">Transposed Decision Tables</a>
        </p>

      </li>
      <li>

        <p>
<a href="Ref_DecisionTable.html#_Working_with_Arrays">Working with Arrays</a>
        </p>

      </li>
      <li>

        <p>
<a href="Ref_DecisionTable.html#_Representing_Dates">Representing Date Values</a>
        </p>

      </li>
      <li>

        <p>
<a href="Ref_DecisionTable.html#_Representing_Boolean_Values">Representing Boolean Values</a>
        </p>

      </li>
      <li>

        <p>
<a href="Ref_DecisionTable.html#_Using_Calculations_in">Using Calculations in Table Cells</a>
        </p>

      </li>
    </ul>
       

    <h4>
<a name="decision_table_structure21"></a><a name="_Decision_Table_Structure"></a>Decision Table Structure
    </h4>
 

    <p class="MsoBodyText">
The following is an example of a decision table:
    </p>
 

    <div>
<img border=0 hspace=1 src="images/Ref_image009.gif">
    </div>
 

    <p class="MsoBodyText">
The following table describes its structure:
    </p>
 

    <table border=1 cellpadding=0 cellspacing=0 class="MsoTableGrid" width=672>
 
      <thead>
 
        <tr bgcolor="#E6E6E6" bordercolor="#ffffff">
 
          <th colspan=3 valign="top" width=672>
 

            <p>
Decision table structure
            </p>
 
          </th> 
        </tr> 
        <tr bgcolor="#E6E6E6" bordercolor="#ffffff">
 
          <th valign="top" width=88>
 

            <p>
Row number
            </p>
 
          </th> 
          <th valign="top" width=88>
 

            <p>
Mandatory
            </p>
 
          </th> 
          <th valign="top" width=496>
 

            <p>
Description
            </p>
 
          </th> 
        </tr> 
      </thead> 
      <tr bgcolor="#E6E6E6" bordercolor="#ffffff">
 
        <td valign="top" width=88>
 

          <p class="Tabletext">
1
          </p>
 
        </td> 
        <td valign="top" width=88>
 

          <p class="Tabletext">
Yes
          </p>
 
        </td> 
        <td valign="top" width=496>
 

          <p class="Tabletext">
Table header, which has the following pattern:
          </p>
 

          <p class="Tabletext">
<code>&lt;keyword&gt; &lt;method header&gt;</code>
          </p>
 

          <p class="Tabletext">
<span class="GramE">where</span> <code>&lt;keyword&gt;</code> is either 'Rules' or 'DT' and <code>&lt;method header&gt;</code> is a signature of a method used to access the decision table and
provide input
parameters.
          </p>
 

          <p class="Tabletext">
For example, the table in the preceding diagram can be invoked as
follows:
          </p>
 

          <p class="Tabletext">
<span class="SpellE"><code>HelloWrapper</code></span><code> <span class="SpellE">tableWrapper</span> = new <span class="SpellE">HelloWrapper</span>();</code>
          </p>
 

          <p class="Tabletext">
<code>tableWrapper.hello1(15);</code>
          </p>
 

          <p class="Tabletext">
<span class="GramE">where</span> <span class="SpellE"><code>HelloWrapper</code></span> is the wrapper class of the Excel or Word file. For general information
on wrappers, see
<a href="Ref_Wrappers.html#_Wrappers">Wrappers</a>.
          </p>
 

          <p class="Tabletext">
Normally, this row is hidden to business users.
          </p>
 
        </td> 
      </tr> 
      <tr bgcolor="#E6E6E6" bordercolor="#ffffff">
 
        <td valign="top" width=88>
 

          <p class="Tabletext">
2 and 3
          </p>
 
        </td> 
        <td valign="top" width=88>
 

          <p class="Tabletext">
No
          </p>
 
        </td> 
        <td valign="top" width=496>
 

          <p class="Tabletext">
Rows containing table properties. Each application using OpenL Tablets rules can utilize properties for different purposes.
          </p>
 

          <p class="Tabletext">
A predefined table property 'name' is used to specify business user
oriented name of the table displayed in
OpenL Web Studio.
          </p>
 

          <p class="Tabletext">
Although the provided decision table example contained two property
rows, there can be any number of property rows in a
table.
          </p>
 

          <p class="Tabletext">
Normally, property rows are hidden to business users.
          </p>
 
        </td> 
      </tr> 
      <tr bgcolor="#E6E6E6" bordercolor="#ffffff">
 
        <td valign="top" width=88>
 

          <p class="Tabletext">
4
          </p>
 
        </td> 
        <td valign="top" width=88>
 

          <p class="Tabletext">
Yes
          </p>
 
        </td> 
        <td valign="top" width=496>
 

          <p class="Tabletext">
Row consisting of the following cell types:
          </p>
 

          <table border=1 cellpadding=0 cellspacing=0 class="MsoTableGrid" width="99%">
 
            <tr bgcolor="#E6E6E6" bordercolor="#ffffff">
 
              <th valign="top" width="22%">
 

                <p>
Type
                </p>
 
              </th> 
              <th valign="top" width="59%">
 

                <p>
Description
                </p>
 
              </th> 
              <th valign="top" width="17%">
 

                <p>
Examples
                </p>
 
              </th> 
            </tr> 
            <tr bgcolor="#E6E6E6" bordercolor="#ffffff">
 
              <td valign="top" width="22%">
 

                <p class="Tabletext">
Condition column header
                </p>
 
              </td> 
              <td valign="top" width="59%">
 

                <p class="Tabletext">
Identifies that the column contains rule condition and its parameters.
It must start with character 'C' followed by a
number.
                </p>
 
              </td> 
              <td valign="top" width="17%">
 

                <p class="Tabletext">
<code>C1, C5, C8</code>
                </p>
 
              </td> 
            </tr> 
            <tr bgcolor="#E6E6E6" bordercolor="#ffffff">
 
              <td valign="top" width="22%">
 

                <p class="Tabletext">
Action column header
                </p>
 
              </td> 
              <td valign="top" width="59%">
 

                <p class="Tabletext">
Identifies that the column contains rule actions. It must start with
character 'A' followed by a
number.
                </p>
 
              </td> 
              <td valign="top" width="17%">
 

                <p class="Tabletext">
<code>A1, A2, A5</code>
                </p>
 
              </td> 
            </tr> 
            <tr bgcolor="#E6E6E6" bordercolor="#ffffff">
 
              <td valign="top" width="22%">
 

                <p class="Tabletext">
Return value column header
                </p>
 
              </td> 
              <td valign="top" width="59%">
 

                <p class="Tabletext">
Identifies that the column contains values to be returned to the calling
program. Since there can be only one return value, the only allowed
content of the cell is 'RET1'.

                </p>
 
              </td> 
              <td valign="top" width="17%">
 

                <p class="Tabletext">
<code>RET1</code>
                </p>
 
              </td> 
            </tr> 
          </table>
 

          <p class="Tabletext">
All other cells in this row are ignored and can be used as comments.
          </p>
 

          <p class="Tabletext">
<b>Important:</b> If a table contains action columns, the engine executes actions for all
rules whose conditions are true. If a table has a return column, the
engine stops processing rules after the first executed rule. If a return
column has a blank cell and the rule is executed, the engine does not
stop but continues checking rules in the
table.
          </p>
 

          <p class="Tabletext">
Normally, this row is hidden to business users.
          </p>
 
        </td> 
      </tr> 
      <tr bgcolor="#E6E6E6" bordercolor="#ffffff">
 
        <td valign="top" width=88>
 

          <p class="Tabletext">
5
          </p>
 
        </td> 
        <td valign="top" width=88>
 

          <p class="Tabletext">
Yes
          </p>
 
        </td> 
        <td valign="top" width=496>
 

          <p class="Tabletext">
Row containing cells with code statements for condition, action, and
return value column headers.
OpenL Tablets supports Java grammar enhanced with BEX grammar features.
          </p>
 

          <p class="Tabletext">
Code in these cells can use any Java objects and methods visible to the OpenL Tablets engine. For information on enabling the OpenL Tablets engine to use custom Java packages, see <a href="Ref_ConfigurationTable.html#_Configuration_Table">Configuration Table</a>.
          </p>
 

          <p class="Tabletext">
Purpose of each cell in this row depends on the cell above it as
follows:
          </p>
 

          <table border=1 cellpadding=0 cellspacing=0 class="MsoTableGrid" width="99%">
 
            <tr bgcolor="#E6E6E6" bordercolor="#ffffff">
 
              <th valign="top" width="22%">
 

                <p>
Cell above
                </p>
 
              </th> 
              <th valign="top" width="77%">
 

                <p>
Purpose
                </p>
 
              </th> 
            </tr> 
            <tr bgcolor="#E6E6E6" bordercolor="#ffffff">
 
              <td valign="top" width="22%">
 

                <p class="Tabletext">
Condition column header
                </p>
 
              </td> 
              <td valign="top" width="77%">
 

                <p class="Tabletext">
Specifies the logical expression of the condition. It can reference
parameters in the method header and parameters in cells
below.
                </p>
 

                <p class="Tabletext">
The cell must contain an expression returning a Boolean value. All
condition expressions must be true to execute a
rule.
                </p>
 
              </td> 
            </tr> 
            <tr bgcolor="#E6E6E6" bordercolor="#ffffff">
 
              <td valign="top" width="22%">
 

                <p class="Tabletext">
Action column header
                </p>
 
              </td> 
              <td valign="top" width="77%">
 

                <p class="Tabletext">
Specifies code to be executed if all conditions of the rule are true.
The code can reference parameters in the method header and parameters in
cells
below.
                </p>
 
              </td> 
            </tr> 
            <tr bgcolor="#E6E6E6" bordercolor="#ffffff">
 
              <td valign="top" width="22%">
 

                <p class="Tabletext">
Return value column header
                </p>
 
              </td> 
              <td valign="top" width="77%">
 

                <p class="Tabletext">
Specifies expression used for calculating the return value. The type of
the expression must match the return value specified in the method
header. This cell can reference parameters in the method header and
parameters in cells
below.
                </p>
 
              </td> 
            </tr> 
          </table>
 

          <p class="Tabletext">
Normally, this row is hidden to business users.
          </p>
 
        </td> 
      </tr> 
      <tr bgcolor="#E6E6E6" bordercolor="#ffffff">
 
        <td valign="top" width=88>
 

          <p class="Tabletext">
6
          </p>
 
        </td> 
        <td valign="top" width=88>
 

          <p class="Tabletext">
Yes
          </p>
 
        </td> 
        <td valign="top" width=496>
 

          <p class="Tabletext">
Row containing parameter definition cells. Each cell in this row
specifies the type and name of parameters in cells below
it.
          </p>
 

          <p class="Tabletext">
Parameter name must be one word corresponding to Java identification
rules.
          </p>
 

          <p class="Tabletext">
Parameter type must be one of the following:
          </p>
 

          <ul>
            <li>

              <p>
primitive Java types
              </p>

            </li>
          </ul>
 

          <ul>
            <li>

              <p>
Java classes visible to the engine
              </p>

            </li>
          </ul>
 

          <ul>
            <li>

              <p>
one-dimensional arrays of the above types as described in <a href="Ref_DecisionTable.html#_Arrays">Working with Arrays</a>
              </p>

            </li>
          </ul>
 

          <ul>
            <li>

              <p>
data tables or their attributes as described in <a href="Ref_DataTable.html#_Using_Data_Types">Using Advanced Data Tables</a>
              </p>

            </li>
          </ul>
 

          <p class="Tabletext">
Normally, this row is hidden to business users.
          </p>
 
        </td> 
      </tr> 
      <tr bgcolor="#E6E6E6" bordercolor="#ffffff">
 
        <td valign="top" width=88>
 

          <p class="Tabletext">
7
          </p>
 
        </td> 
        <td valign="top" width=88>
 

          <p class="Tabletext">
Yes
          </p>
 
        </td> 
        <td valign="top" width=496>
 

          <p class="Tabletext">
Descriptive column titles. The rule engine does not use them in
calculations but they are intended for business users working with the
table. Cells in this row can contain any arbitrary
text.
          </p>
 
        </td> 
      </tr> 
      <tr bgcolor="#E6E6E6" bordercolor="#ffffff">
 
        <td valign="top" width=88>
 

          <p class="Tabletext">
8 and below
          </p>
 
        </td> 
        <td valign="top" width=88>
 

          <p class="Tabletext">
Yes
          </p>
 
        </td> 
        <td valign="top" width=496>
 

          <p class="Tabletext">
Concrete parameter values.
          </p>
 
        </td> 
      </tr> 
    </table>
 

    <h4>
<a name="decision_table_interpretation22"></a><a name="_Decision_Table_Interpretation"></a>Decision Table Interpretation
    </h4>
 

    <p class="MsoBodyText">
Rules inside decision tables are processed one by one in the order they
are placed in the table. A rule is executed only when all its conditions
are true. If at least one condition returns false, all other conditions
in the same row are ignored. Absence of a parameter in a condition cell
is interpreted as a true value. Blank action and return value cells are
ignored.
    </p>
 

    <h4>
<a name="transposed_decision_tables23"></a><a name="_Transposed_Decision_Tables"></a>Transposed Decision Tables
    </h4>
 

    <p class="MsoBodyText">
Sometimes decision tables look more convenient in transposed format
where columns become rows and rows become columns. For example, a
transposed version of the previously shown decision table resembles the
following:
    </p>
 

    <div>
<img border=0 hspace=1 src="images/Ref_image011.jpg">
    </div>
 

    <p class="MsoBodyText">
OpenL Tablets automatically detects transposed tables and is able to process them
correctly.
    </p>
 

    <h4>
<a name="working_with_arrays24"></a><a name="_Arrays"></a><a name="_Arrays_in_Decision"></a><a name="_Working_with_Arrays"></a>Working with Arrays
    </h4>
 

    <p class="MsoBodyText">
If parameter is an array type, there are two ways how its values can be
entered in a
table.
    </p>
 

    <p class="MsoBodyText">
The first option is arrange array values horizontally using multiple <span class="SpellE">subcolumns</span>. The following is an example of this approach:
    </p>
 

    <div>
<img border=0 hspace=1 src="images/Ref_image012.gif">
    </div>
 

    <p class="MsoBodyText">
In this example, the contents of the <code>set</code> variable for the first rule are <code>[1<span class="GramE">,3,5,7,9</span>]</code> and for the second rule <code>[2,4,6,8]</code>. Values are read from left to right.
    </p>
 

    <p class="MsoBodyText">
The second option is to present parameter values vertically as follows:
    </p>
 

    <div>
<img border=0 hspace=1 src="images/Ref_image013.gif">
    </div>
 

    <p class="MsoBodyText">
In the second case, the boundaries between rules are determined by the
height of the leftmost cell. Therefore, an additional column must be
added to the table to specify boundaries between
arrays.
    </p>
 

    <p class="MsoBodyText">
In both cases, empty cells are not added to the array.
    </p>
 

    <p class="MsoBodyText">
To facilitate work with arrays, OpenL Tablets provides the following method, which allows determining whether a
particular element is included in an
array:
    </p>
 

    <p class="MsoBodyText">
<span class="GramE"><code>contains(</code></span><code>Object[] <span class="SpellE">ary</span>, Object <span class="SpellE">ojb</span>)</code>
    </p>
 

    <p class="MsoBodyText">
This method works only with Java objects, not primitive Java types. The
following example displays a table using
<span class="GramE">the <code>contains</code></span> method:
    </p>
 

    <div>
<img border=0 hspace=1 src="images/Ref_image014.gif">
    </div>
 

    <h4>
<a name="representing_date_values25"></a><a name="_Representing_Dates"></a>Representing Date Values
    </h4>
 

    <p class="MsoBodyText">
To represent date values in table cells, the following format must be
used:
    </p>
 

    <p class="MsoBodyText">
<code>'&lt;month&gt;/&lt;date&gt;/&lt;year&gt;</code>
    </p>
 

    <p class="MsoBodyText">
The value must always be preceded with an apostrophe. Excel treats these
values as plain text and does not convert to any specific date
format.
    </p>
 

    <p class="MsoBodyText">
The following are valid date value examples:
    </p>
 

    <p class="MsoBodyText">
<code>'5/7/1981</code>
    </p>
 

    <p class="MsoBodyText">
<code>'10/20/2002</code>
    </p>
 

    <h4>
<a name="representing_boolean_values26"></a><a name="_Representing_Boolean_Values"></a>Representing Boolean Values
    </h4>
 

    <p class="MsoBodyText">
OpenL Tablets supports the following formats of Boolean values:
    </p>
 

    <ul>
      <li>

        <p>
True, TRUE, Yes, YES
        </p>

      </li>
      <li>

        <p>
False, FALSE, No, NO
        </p>

      </li>
    </ul>
  

    <h4>
<a name="using_calculations_in_table_cells27"></a><a name="_Using_Calculations_in"></a>Using Calculations in Table Cells
    </h4>
 

    <p class="MsoBodyText">
OpenL Tablets can perform mathematical calculations involving method input parameters
in table cells. For example, instead of returning a concrete number, a
rule can return a result of a calculation involving one of the input
parameters. Calculation result type must match the type of the cell.
Text in cells containing calculations must start with an apostrophe
followed by =. Excel treats such values as plain
text.
    </p>
 

    <p class="MsoBodyText">
The following decision table demonstrates calculations in table cells:
    </p>
 

    <div>
<img border=0 hspace=1 src="images/Ref_image015.gif">
    </div>
 

    <p class="MsoBodyText">
The table transforms a 12 hour time format into a 24 hour time format.
The column
<code>RET1</code> contains two cells that perform calculations with the input parameter <span class="SpellE"><code>ampmHr</code></span>.
    </p>
 

    <p class="MsoBodyText">
Calculations use regular Java syntax similar to what is used in
conditions and
actions.
    </p>
 

    <p class="Note">
<b>Note: </b>Excel formulas are not supported by OpenL Tablets.
    </p>
 <br clear="all">
  </body>
</html>
