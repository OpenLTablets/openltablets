<ui:composition
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:rich="http://richfaces.ajax4jsf.org/rich"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:t="http://myfaces.apache.org/tomahawk"
  xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
  xmlns:c="http://java.sun.com/jstl/core">

  <h:panelGroup rendered="#{artefact.deleted}">
    <h:panelGrid columns="2" styleClass="buttonPanel" cellpadding="4px;" cellspacing="0px;">
      <h:commandButton styleClass="button" value="Undelete" type="button" onclick="confirmUndeleteProject();" />
      <h:commandButton styleClass="button" value="Erase" type="button" onclick="confirmEraseProject();" />
    </h:panelGrid>
  </h:panelGroup>
  <h:panelGrid columns="7" styleClass="buttonPanel" cellpadding="4px;" cellspacing="0px;" rendered="#{not artefact.deleted}">
    <h:commandButton styleClass="#{!(artefact.checkedOut || artefact.locked) ? 'button' : 'disabledButton'}" value="Deploy" action="#{deploymentController.deploy}" onclick="return #{!(artefact.checkedOut || artefact.locked)}"/>
    <h:commandButton styleClass="button" value="Open Version" type="button" onclick="openOpenVersionDialog();" />
    <h:commandButton styleClass="#{artefact.opened ? 'button':'disabledButton'}" value="Close" action="#{deploymentController.close}" onclick="return #{artefact.opened};"/>
    <h:commandButton styleClass="#{!(artefact.checkedOut || artefact.locked) ? 'button' : 'disabledButton'}" value="Check Out" action="#{deploymentController.checkOut}" onclick="return #{!(artefact.checkedOut || artefact.locked)};" />
    <h:commandButton styleClass="#{artefact.checkedOut ? 'button':'disabledButton'}" value="Check In" action="#{deploymentController.checkIn}" onclick="return #{artefact.checkedOut};" />
    <h:commandButton styleClass="button" value="Copy" type="button" onclick="openCopyDeploymentProjectDialog();" />
    <h:commandButton styleClass="#{!artefact.locked ? 'button':'disabledButton'}" value="Delete" type="button" onclick="#{!artefact.locked} &amp;&amp; confirmDeleteNode();"/>
  </h:panelGrid>

  <rich:tabPanel switchType="client" style="height:425px; margin-top:5px;">
    <rich:tab label="Properties">
      <h:panelGrid columns="2" styleClass="formfields" cellspacing="1" columnClasses="label,">
        <h:outputText value="Project Name" />
        <h:outputText value="#{node.name}" />

        <h:outputText value="Project Version" />
        <h:outputText value="#{artefact.version.versionName}" />

        <h:outputText value="Created By" />
        <h:outputText value="#{node.createdBy}" />

        <h:outputText value="Creation Date" />
        <h:outputText value="#{node.createdAt}" />
      </h:panelGrid>
    </rich:tab>
    <rich:tab label="Versions">
      <ui:include src="/repository/node/versions.xhtml" />
    </rich:tab>
    <rich:tab label="Descriptors">
      <ui:include src="/repository/node/descriptors.xhtml" />
    </rich:tab>
  </rich:tabPanel>

</ui:composition>