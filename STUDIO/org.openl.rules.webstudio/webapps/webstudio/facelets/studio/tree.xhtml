<ui:composition
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:rich="http://richfaces.ajax4jsf.org/rich"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  template="/common/baseFrame.xhtml">

  <ui:define name="extrastyle">
    <link rel="stylesheet" type="text/css" href="#{contextPath}/css/dtree.css"></link>

    <style type="text/css">
      #tree {
        text-overflow: ellipsis;
        overflow: hidden;
        width: 100%;
        height: 100%;
      }
    </style>
  </ui:define>

  <ui:define name="page">
    <script type="text/javascript" src="#{contextPath}/javascript/dtree.js"></script>
    <script type="text/javascript">var imagePath = '#{contextPath}/images/';</script>

    <div style="border:1px solid #949ABD; height:650px;">

    <table width="95%">
      <tr>
        <td>
          <a class="actionButton" target="_top" href="#{contextPath}/studio/main.xhtml?reload=true" title="Refresh Project">
            <h:graphicImage url="/images/refresh.gif" styleClass="actionImage" />
          </a>
        </td>

        <td>
          <h:panelGroup rendered="#{tableViewController.localRequest}">
            <a class="actionButton" href="#{contextPath}/studio/uploadProjects.xhtml" target="mainFrame" title="Upload projects to repository">upload</a>
          </h:panelGroup>
        </td>

        <td align="right">
          <a href="javascript: d.openAll(); d.o(0);" title="Expand All">
            <h:graphicImage url="/images/expandall.gif" styleClass="actionImage" />
          </a>
          <a href="javascript: d.closeAll()" title="Collapse All">
            <h:graphicImage url="/images/collapseall.gif" styleClass="actionImage" />
          </a>
        </td>
      </tr>
    </table>

    <p />

    <div class="errmsg" id="msg" style="padding-left:5px; padding-right:5px; font-size:11px;"><!--  --></div>
    <div class="dtree" id="tree"/>

    </div>

    <script>
      d = new dTree('d');
     <h:outputText value="#{sessionScope.studio.renderedTree}" escape="false"/>
      document.getElementById('tree').innerHTML = d;
    </script>

  </ui:define>
</ui:composition>
