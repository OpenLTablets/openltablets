<ui:composition
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.ajax4jsf.org/rich"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<h:panelGroup rendered="#{repositoryHandler.selected.type == 'file'}">
		<table><tr><td>
		<h:commandButton value="Delete" action="deleteFile" onclick="return false;"/>
		</td></tr></table>
		<p/>

		<rich:tabPanel switchType="client">
			<rich:tab label="Properties">
				<ui:include src="/ui/jcr/fileProps.xhtml" />
			</rich:tab>
			<rich:tab label="Versions">
				<ui:include src="/ui/jcr/versions.xhtml" />
			</rich:tab>
		</rich:tabPanel>
	</h:panelGroup>

	<h:panelGroup rendered="#{repositoryHandler.selected.type == 'folder'}">
		<table><tr><td>
		<h:commandButton value="New Folder" action="newFolder" onclick="return false;"/>
		</td><td>
		<h:commandButton value="New File" action="newFile" onclick="return false;"/>
		</td><td>
		<h:commandButton value="Delete" action="deleteFolder" onclick="return false;"/>
		</td></tr></table>
		<p/>

		<rich:tabPanel switchType="client">
			<rich:tab label="Properties">
				<ui:include src="/ui/jcr/folderProps.xhtml" />
			</rich:tab>
			<rich:tab label="Versions">
				<ui:include src="/ui/jcr/versions.xhtml" />
			</rich:tab>
			<rich:tab label="Elements">
				<ui:include src="/ui/jcr/elements.xhtml" />
			</rich:tab>
		</rich:tabPanel>
	</h:panelGroup>

	<h:panelGroup rendered="#{repositoryHandler.selected.type == 'project'}">
		<table><tr><td>
		<h:commandButton value="Update" action="updateProject" onclick="return false;"/>
		</td><td>
		<h:commandButton value="Commit" action="commitProject" onclick="return false;"/>
		</td><td>
		<h:commandButton value="Override and Update" action="revertProject" onclick="return false;"/>
		</td><td>
		<h:commandButton value="Copy" action="copyProject" onclick="return false;"/>
		</td><td>
		<h:commandButton value="Delete" action="deleteProject" onclick="Richfaces.showModalPanel('modalPanel'); return false;"/>
		</td></tr></table>
		<p/>
		
		<rich:tabPanel switchType="client">
			<rich:tab label="Properties">
				<ui:include src="/ui/jcr/projectProps.xhtml" />
			</rich:tab>
			<rich:tab label="Versions">
				<ui:include src="/ui/jcr/versions.xhtml" />
			</rich:tab>
			<rich:tab label="Elements">
				<ui:include src="/ui/jcr/elements.xhtml" />
			</rich:tab>
		</rich:tabPanel>
	</h:panelGroup>

	<h:panelGroup rendered="#{repositoryHandler.selected.type == 'repository'}">
		<rich:tabPanel>
			<rich:tab label="Projects">
				<ui:include src="/ui/jcr/tabProjects.xhtml" />
			</rich:tab>
		</rich:tabPanel>
	</h:panelGroup>

</ui:composition>
