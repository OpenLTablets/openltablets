<ui:composition template="/WEB-INF/templates/default-jcr.xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.ajax4jsf.org/rich"
	xmlns:ui="http://java.sun.com/jsf/facelets">

    <ui:define name="title">Repository Browser</ui:define>

	<ui:define name="body">

    <h:panelGrid columns="2" cellspacing="10"
	style="height:600;"
	headerClass="outpanelHeader" columnClasses="columnTree, columnProps">
	
		<h:panelGroup id="svTree">
			<ui:include src="/ui/jcr/tree.xhtml" />
		</h:panelGroup>

		<h:panelGroup  id="svBrowser">
			<ui:include src="search/inline.xhtml"/>
			
			<p/>

			<h:panelGroup id="nodeView">
				<ui:include src="/ui/jcr/nodeView.xhtml" />
			</h:panelGroup>
		</h:panelGroup>
		
	</h:panelGrid>

	<h:commandButton styleClass="smlBackButton" value="index-jcr" action="index" immediate="true"/>

	<rich:dataTable value="#{userSession.errors}" var="err">
		<f:facet name="header">
			<rich:columnGroup>
				<rich:column>
					<h:outputText value="Message" />
				</rich:column>
				<rich:column>
					<h:outputText value="Details" />
				</rich:column>
			</rich:columnGroup>
		</f:facet>

		<rich:columnGroup>
			<rich:column>
				<h:outputText value="#{err.message}" />
			</rich:column>
			<rich:column>
				<h:outputText value="---" />
			</rich:column>
		</rich:columnGroup>
	</rich:dataTable>
	</ui:define>

	<ui:define name="special">
		<ui:include src="/ui/jcr/modalDelete.xhtml" />
	</ui:define>
</ui:composition>
