<ui:composition
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:rich="http://richfaces.ajax4jsf.org/rich"
  xmlns:ui="http://java.sun.com/jsf/facelets">

  <rich:dataTable rendered="#{not empty repositoryTree.selected.childNodes}" value="#{repositoryTree.selected.childNodes}" var="el">
    <f:facet name="header">
      <rich:columnGroup>
        <rich:column>
          <h:outputText value="Folder/File" />
        </rich:column>
        <rich:column>
          <h:outputText value="Actions" />
        </rich:column>
      </rich:columnGroup>
    </f:facet>

    <rich:columnGroup>
      <rich:column>
        <h:outputText value="#{el.name}" />
      </rich:column>
      <rich:column>
        <h:commandLink styleClass="actionButton" action="#{el.delete}" immediate="true"
          onclick="if(!window.confirm('Really delete file/folder?')) {return false;}">
          <f:param name="key" value="#{index}" />
          <h:graphicImage url="/images/test_neq.gif" styleClass="actionImage" style="vertical-align:bottom;" alt="Delete" title="Delete" />
        </h:commandLink>
      </rich:column>
    </rich:columnGroup>

  </rich:dataTable>

  <h:outputText styleClass="niceLabel" rendered="#{empty repositoryTree.selected.children}" value="There are no elements (Folders, Files)." />

</ui:composition>
