<ui:composition
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
    xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
	xmlns:rich="http://richfaces.ajax4jsf.org/rich"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<rich:modalPanel  id="modalCopyProject" minHeight="200" minWidth="450" 
		height="200" width="500" zindex="2000">
		<f:facet name="header">
			<h:outputText value="Copy Project" />
		</f:facet>

		<f:facet name="controls">
			<h:graphicImage value="/images/modal/close.png" style="cursor:pointer" onclick="Richfaces.hideModalPanel('modalCopyProject');" />
		</f:facet>

		<h:form id="modalCopyProjectForm">
		<h:panelGrid
		  styleClass="modalBody"
		  cellpadding="0" cellspacing="0" border="0" 
		  columns="1" columnClasses="modalCol"
		  rowClasses="modalRow1,modalRow2,modalRow3"
		>
			<h:panelGroup>
				<h:panelGrid
				  columns="1"
				>
					<h:outputText styleClass="niceLabel" value="Name of Existing Project:" />
					<h:inputText id="from" value="#{modalHandler.copyProjectFrom}" readonly="true" />
					<h:outputText styleClass="niceLabel" value="Name of Copy Project:" />
					<h:inputText id="to" value="#{modalHandler.copyProjectTo}" />
					<h:outputText value="Note: today it creates new only, no real copy..." />
				</h:panelGrid>
			</h:panelGroup>
			
			<rich:separator height="1" />
			
			<h:panelGrid
			  styleClass="modalButtonPanel"
			  cellpadding="0" cellspacing="0" border="0"
			  columns="2" columnClasses="modalButtonCol,modalButtonCol"
			>
				<h:commandButton value="Copy" action="#{modalHandler.copyProject}"/>
				<h:commandButton value="Cancel" onclick="Richfaces.hideModalPanel('modalCopyProject');return false;" />
			</h:panelGrid>
		</h:panelGrid>
		</h:form>
		
	</rich:modalPanel>
	
	<script>
		function confirmCopyProject(copyFrom) {
			var el = document.getElementById('modalCopyProjectForm:from');
			el.value = copyFrom;
			
			Richfaces.showModalPanel('modalCopyProject');

			el = document.getElementById('modalCopyProjectForm:to');
			el.focus();
			return false;
		}
	</script>

</ui:composition>
