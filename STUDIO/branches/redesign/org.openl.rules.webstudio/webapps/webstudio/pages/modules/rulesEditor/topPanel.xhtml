<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:c="http://java.sun.com/jsp/jstl/core">

    <c:set var="rProject" value="#{studio.currentProject}" />

    <h:panelGroup id="toolbar" style="margin-left: 10px" layout="block">
        <h:form id="headerForm">
            <span class="buttonPanel">
              <a href="#{rulesEditor}/index.xhtml?reload=forced" title="Refresh Projects"><img
                  src="#{contextPath}/webresource/images/refresh.png" alt="Refresh Projects"/></a>

              <h:outputLink value="#{rulesEditor}/index.xhtml?operation=checkIn"
                  title="Check in Project" rendered="#{not empty studio.allProjects and rProject.checkedOut}"><img
                  src="webresource/images/repository/checkin.gif" /></h:outputLink>
              <h:outputLink value="#{rulesEditor}/index.xhtml?operation=checkOut"
                  title="Check out Project" rendered="#{not empty studio.allProjects and !rProject.localOnly and !rProject.locked}"><img
                  src="webresource/images/repository/checkout.gif" /></h:outputLink>

              <h:outputLink value="#{rulesEditor}/test/runAllTests.xhtml" target="content"
                  title="Run All Tests" rendered="#{treeBean.projectHasTests}"><img
                  src="webresource/images/test_ok.gif" /></h:outputLink>

              <span style="margin:0 21px"></span>

              <h:outputLink rendered="#{studio.model.editable}" value="#{rulesEditor}/create/index.xhtml"
                  target="content" title="Create new table" styleClass="button">Create New</h:outputLink>

              <h:outputLink rendered="#{not empty studio.allProjects and studio.model.editable}"
                  value="#{rulesEditor}/revertModuleChanges.xhtml" target="content" title="Revert Changes"
                  styleClass="button2">Revert</h:outputLink>

              <h:panelGroup rendered="#{not empty studio.allProjects and studio.model.projectCompiledSuccessfully}">
                  <a href="#{rulesEditor}/rulesDependencies.xhtml" title="Rules Dependencies"
                      target="content">Dependencies</a>
              </h:panelGroup>
            </span>
        </h:form>
        <h:panelGroup style="position: absolute; right: 21px; top: 3px">
            <h:panelGroup rendered="#{not empty studio.allProjects and studio.model.projectCompiledSuccessfully}">
                <span style="font-size: 90%">
                    <h:outputLink value="#{rulesEditor}/search/advancedSearch.xhtml"
                        target="content">Advanced</h:outputLink>
                    <span style="margin: 0 3px">|</span>
                    <h:outputLink value="#{rulesEditor}/search/businessSearch.xhtml"
                        target="content">Business</h:outputLink>
                </span>
                <form style="display: inline;"
                    onsubmit="goTo('#{rulesEditor}/search/simpleSearch.xhtml?searchQuery=' + $j('#searchQuery').val()); return false;">
                    <input type="text" id="searchQuery" placeholder="Search..." />
                    <input type="image" src="#{contextPath}/webresource/images/search.png" />
                </form>
            </h:panelGroup>

            <a target="_blank" style="margin-left: 15px"
                onclick="window.open('#{rulesEditor}/compare.xhtml','Compare','width=1000,height=800,screenX=50,screenY=100,resizable=yes,scrollbars=yes,status=yes');return false;"
                href="#" title="Compare Excel files"><img
                src="webresource/images/compare.gif" /></a>
            
        </h:panelGroup>
    </h:panelGroup>

</ui:composition>
