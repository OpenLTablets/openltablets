<?xml version="1.0" encoding="utf-8"?>

<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jstl/core"
                xmlns:t="http://myfaces.apache.org/tomahawk">

  <f:view contentType="text/xml">
    <h:panelGroup rendered="#{diffController.path == null}">
      <tree id="1">
        <node text="#{diffController.project1.name}" id="#{diffController.project1.name}" select="yes" open="1" child="1">
          <t:dataList var="item" value="#{diffController.diffElements}">
            <node text="#{item.name}" id="#{item.path}" child="#{(item.isFolder||item.isXlsFile||item.isSheet)?'1':'0'}"
              open="#{item.diffType=='EqualWithDifferentChildren'?'1':'0'}"
              style="#{item.diffType=='Addition'?'background-color: #c0dcc0;':(item.diffType=='Deletion'?'text-decoration: line-through;':'')}"
              im1="#{item.isXlsFile?'excel.gif':(item.isSheet?'sheet.gif':'')}"
              im2="#{item.isXlsFile?'excel.gif':(item.isSheet?'sheet.gif':'')}" />
          </t:dataList>
        </node>
      </tree>
    </h:panelGroup>

    <h:panelGroup rendered="#{diffController.path != null}">
      <tree id="#{diffController.path}">
        <t:dataList var="item" value="#{diffController.diffElements}">
          <node text="#{item.name}" id="#{item.path}" child="#{(item.isFolder||item.isXlsFile||item.isSheet)?'1':'0'}"
            open="#{item.diffType=='EqualWithDifferentChildren'?'1':'0'}"
            style="#{item.diffType=='Addition'?'background-color: #c0dcc0;':(item.diffType=='Deletion'?'text-decoration: line-through;':'')}"
            im1="#{item.isXlsFile?'excel.gif':(item.isSheet?'sheet.gif':'')}"
            im2="#{item.isXlsFile?'excel.gif':(item.isSheet?'sheet.gif':'')}" />
        </t:dataList>
      </tree>
    </h:panelGroup>

  </f:view>
</ui:composition>