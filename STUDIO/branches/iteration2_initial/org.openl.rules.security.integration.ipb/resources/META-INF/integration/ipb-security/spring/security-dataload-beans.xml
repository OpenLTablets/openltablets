<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:util="http://www.springframework.org/schema/util"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.0.xsd
       ">

  <bean id="openlPrivilegeDataLoader" class="org.openl.rules.security.integration.ipb.dataload.PrivilegeDataLoader">
    <property name="accessManagemenetService" ref="accessManagementService"/>
  </bean>

  <bean id="openlUserDataLoader" class="org.openl.rules.security.integration.ipb.dataload.UserDataLoader">
    <property name="userManagementService" ref="userManagementService" />
    <property name="accessManagemenetService" ref="accessManagementService"/>
    <property name="usersInfo">
      <util:list>
        <bean class="org.openl.rules.security.integration.ipb.dataload.UserPrivilegeInfo">
          <property name="user" ref="openl_user"/>
          <property name="privileges">
            <list>
              <value>VIEW_PROJECTS</value>
            </list>
          </property>
        </bean>
        <bean class="org.openl.rules.security.integration.ipb.dataload.UserPrivilegeInfo">
          <property name="user" ref="openl_u0"/>
          <property name="privileges">
            <list>
              <value>VIEW_PROJECTS</value>
            </list>
          </property>
        </bean>
        <bean class="org.openl.rules.security.integration.ipb.dataload.UserPrivilegeInfo">
          <property name="user" ref="openl_u1"/>
          <property name="privileges">
            <list>
              <value>VIEW_PROJECTS</value>
              <value>EDIT_PROJECTS</value>
            </list>
          </property>
        </bean>
        <bean class="org.openl.rules.security.integration.ipb.dataload.UserPrivilegeInfo">
          <property name="user" ref="openl_u2"/>
          <property name="privileges">
            <list>
              <value>VIEW_PROJECTS</value>
              <value>EDIT_PROJECTS</value>
              <value>ERASE_PROJECTS</value>
            </list>
          </property>
        </bean>
        <bean class="org.openl.rules.security.integration.ipb.dataload.UserPrivilegeInfo">
          <property name="user" ref="openl_u3"/>
          <property name="privileges">
            <list>
              <value>VIEW_PROJECTS</value>
              <value>EDIT_PROJECTS</value>
              <value>ERASE_PROJECTS</value>
            </list>
          </property>
        </bean>
      </util:list>
    </property>
  </bean>

  <bean id="appDataLoader" init-method="loadData" lazy-init="false"
        class="com.exigen.ipb.base.dataload.AppDataLoader">
    <property name="applicableLoaderNames">
      <util:list>
        <idref bean="openlPrivilegeDataLoader"/>
        <idref bean="openlUserDataLoader"/>
      </util:list>
    </property>
  </bean>

  <!-- Predefined users -->
  <bean id="openlUserTemplate" class="com.exigen.ipb.base.parties.domain.UserProfile" abstract="true" scope="prototype">
    <property name="locationCd" value="EXG"/>
    <property name="systemUserInd" value="false"/>
    <property name="availableForWorkInd" value="true"/>
    <property name="loginName" value="|change me|"/>
    <property name="domain" value="default"/>
    <property name="password" value="1234"/>
  </bean>

  <bean id="openl_user" parent="openlUserTemplate">
    <property name="name" value="user"/>
    <property name="lastName" value="user"/>
    <property name="password" value="user" />
  </bean>

  <bean id="openl_u0" parent="openlUserTemplate">
    <property name="name" value="u0"/>
    <property name="lastName" value="u0"/>
    <property name="password" value="u0" />
  </bean>

  <bean id="openl_u1" parent="openlUserTemplate">
    <property name="name" value="u1"/>
    <property name="lastName" value="u1"/>
    <property name="password" value="u1" />
  </bean>

  <bean id="openl_u2" parent="openlUserTemplate">
    <property name="name" value="u2"/>
    <property name="lastName" value="u2"/>
    <property name="password" value="u2" />
  </bean>

  <bean id="openl_u3" parent="openlUserTemplate">
    <property name="name" value="u3"/>
    <property name="lastName" value="u3"/>
    <property name="password" value="u3" />
  </bean>
  
</beans>