<?xml version="1.0" encoding="utf-8"?>
<ui:composition
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
    template="/facelets/common/studioBase.xhtml">

    <ui:define name="header">
        <style type="text/css">
            html, body, #leftPanel {
                height: 100%;
                margin: 0;
            }
        </style>
    </ui:define>

    <ui:define name="page">
        <rich:tabPanel id="leftPanel" switchType="client">
            <rich:tab header="Navigator">
                <ui:include src="/facelets/tree.xhtml" />
            </rich:tab>
            <rich:tab header="History">
                <a4j:ajax event="headerclick" render="visitedRules"
                    onbegin="#{rich:element('visitedRules')}.innerHTML='Loading...'" />
                <h:form>
                    <h:panelGroup id="visitedRules">
                        <ui:include src="/facelets/recentlyVisitedTables.xhtml" />
                   </h:panelGroup>
               </h:form>
            </rich:tab>
        </rich:tabPanel>

        <rich:popupPanel id="saveWindow" modal="true" style="display: none;" />
    </ui:define>

</ui:composition>
