<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jstl/core"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:jsffn="http://rules.openl.org/taglibs/jsffn">

    <a4j:loadStyle src="resource:///css/wizard.css" />

    <c:forEach begin="1" end="#{jsffn:toInteger(max)}" var="index">
        <h:outputText value="#{index}" styleClass="step step_passed" rendered="#{current gt index}" />
        <h:outputText value="#{index}" styleClass="step step_current" rendered="#{current == index}" />
        <h:outputText value="#{index}" styleClass="step step_not_passed" rendered="#{current lt index}" />

        <c:if test="#{index lt max}">
            <h:outputText styleClass="line line_passed" rendered="#{current gt index + 1}" />
            <h:outputText styleClass="line line_current" rendered="#{current == index + 1}" />
            <h:outputText styleClass="line line_not_passed" rendered="#{current lt index + 1}" />
        </c:if>
    </c:forEach>
</ui:composition>
