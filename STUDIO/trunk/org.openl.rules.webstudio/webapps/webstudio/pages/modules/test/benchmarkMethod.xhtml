<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich">

    <div class="view_header">Results of benchmarking</div>

    <div class="content">
        <h:form id="BMForm">
            <h:dataTable id="BMTable" value="#{benchmarkMethodBean.benchmarks}" var="item"
                binding="#{benchmarkMethodBean.htmlDataTableBM}" styleClass="table">
                <h:column>
                    <h:outputText value="#{benchmarkMethodBean.i}." />
                </h:column>
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Name" />
                    </f:facet>
                    <h:outputLink value="#showTable.xhtml">
                        <f:param name="uri" value="#{benchmarkMethodBean.uri}" />
                        <h:outputText value="#{benchmarkMethodBean.tableName}" />
                    </h:outputLink>
                    <h:outputText value="#{benchmarkMethodBean.tableInfo}" styleClass="badge"
                        style="margin-left: 5px" />
                </h:column>
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Parameters" />
                    </f:facet>
                    <table>
                        <tr>
                            <ui:repeat value="#{benchmarkMethodBean.parameters}" var="parameter">
                                <th>#{parameter.name}</th>
                            </ui:repeat>
                        </tr>
                        <tr>
                            <ui:repeat value="#{benchmarkMethodBean.parameters}" var="parameter">
                                <td>
                                    <ui:include src="/pages/modules/test/parameter.xhtml">
                                        <ui:param name="parameter" value="#{parameter}" />
                                    </ui:include>
                                </td>
                            </ui:repeat>
                        </tr>
                    </table>
                </h:column>
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Runs(ms)" />
                    </f:facet>
                    <h:outputText value="#{benchmarkMethodBean.msrun}" />
                </h:column>
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Runs/sec" />
                    </f:facet>
                    <h:outputText value="#{benchmarkMethodBean.runssec}" />
                </h:column>
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Unit Type" />
                    </f:facet>
                    <h:outputText
                        value="#{benchmarkMethodBean.unitName}" />
                </h:column>
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Units" />
                    </f:facet>
                    <h:outputText
                        value="#{benchmarkMethodBean.unitRuns}" />
                </h:column>
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Unit(ms)" />
                    </f:facet>
                    <h:outputText
                        value="#{benchmarkMethodBean.msrununit}" />
                </h:column>
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Units/sec" />
                    </f:facet>
                    <h:outputText
                        value="#{benchmarkMethodBean.runsunitsec}" />
                </h:column>
                <h:column>
                    <f:facet name="header">
                        <h:selectBooleanCheckbox id="allBenchCheck"
                            value="#{benchmarkMethodBean.allBencmarkSelected}"
                            title="Check/Uncheck All">
                            <a4j:ajax event="change" execute="@this"
                                render="@form" />
                        </h:selectBooleanCheckbox>
                    </f:facet>
                    <h:selectBooleanCheckbox id="BM"
                        value="#{benchmarkMethodBean.bencmarkSelected}">
                        <a4j:ajax event="change" execute="@this"
                            render="@form" />
                    </h:selectBooleanCheckbox>
                </h:column>
            </h:dataTable>

            <br />

            <a4j:commandButton id="compare"
                action="#{benchmarkMethodBean.compare}" value="Compare"
                render="comparedBMTable"
                disabled="#{!benchmarkMethodBean.anyBencmarkSelected}" />
            <a4j:commandButton id="delete"
                action="#{benchmarkMethodBean.delete}" value="Delete"
                render="comparedBMTable BMTable compare delete"
                disabled="#{!benchmarkMethodBean.anyBencmarkSelected}" />
            <br />
            <br />
        <h:dataTable id="comparedBMTable" value="#{benchmarkMethodBean.comparedBenchmarks}" var="item"
            binding="#{benchmarkMethodBean.htmlDataTableBMCompared}" styleClass="table">
            <h:column>
                <h:outputText value="#{benchmarkMethodBean.comparedI}." />
            </h:column>
            <h:column>
                <h:outputText value="#{benchmarkMethodBean.tableName}" />
            </h:column>
            <h:column>
                <h:outputText
                    value="#{benchmarkMethodBean.comparedRunsunitsec}" />
            </h:column>
            <h:column>
                <h:outputText
                    style="#{benchmarkMethodBean.styleForOrder}"
                    value="#{benchmarkMethodBean.comparedOrder}" />
            </h:column>
            <h:column>
                <h:outputText
                    value="#{benchmarkMethodBean.comparedRatio}" />
            </h:column>
        </h:dataTable>

        </h:form>
    </div>
</ui:composition>