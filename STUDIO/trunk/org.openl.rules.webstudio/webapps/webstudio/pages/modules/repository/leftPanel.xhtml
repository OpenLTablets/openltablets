<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:ui="http://java.sun.com/jsf/facelets">

    <h:panelGroup layout="block">
        <div>
            <div class="view_header">
                <span id="designRepoLink" onclick="goToRepo('design', 'production')" class="view-header-link" title="Design Repository">Design</span>
                <span>-</span>
                <span><a4j:commandLink id="productionRepoLink" value="Production" oncomplete="goToRepo('production', 'design')"
                    render="prodTree" title="Production Repository"
                    action="#{productionRepositoriesTreeController.tabChange('production')}"
                    styleClass="view-header-link view-header-link-inactive" /></span>
            </div>
            <div id="designRepo">
                <ui:include src="/pages/modules/repository/tree.xhtml" />
            </div>
            <div id="productionRepo" style="display: none">
                <ui:include src="/pages/modules/repository/productionTree.xhtml" />
            </div>
        </div>
    </h:panelGroup>

    <script>
        function goToRepo(repo, repoHide) {
            $j("#" + repoHide + "RepoLink").addClass("view-header-link-inactive");
            $j("#" + repo + "RepoLink").removeClass("view-header-link-inactive");

            $j("#" + repo + "Repo").show();
            $j("#" + repoHide + "Repo").hide();

            $j("#" + repo + "RepoRefresh").show();
            $j("#" + repoHide + "RepoRefresh").hide();
        }
    </script>

</ui:composition>
