<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:authz="http://rules.openl.org/taglibs/acegi"
    xmlns:a4j="http://richfaces.org/a4j">

    <style>
        #rb {
            text-align: right;
            padding: 8px;
        }
        #rb a {
            text-decoration: none;
        }
        #ll a {
            text-decoration: none;
            padding: 6px 15px;
            font-size: 110%;
            color: #1199ee;
        }
        #ll .active {
            color: #222222;
            border-left: 1px dashed #e5e5e5;
            border-right: 1px dashed #e5e5e5;
            cursor: default;
            background: #f9f9f9;
        }
    </style>

    <div>
        <div style="position: absolute; left: 11px; top: 4px">
            <a href="#{contextPath}" style="text-decoration: none">
                <ui:include src="/pages/common/logo.xhtml" />
            </a>
        </div>

        <div id="rb">
            <a href="#" onclick="window.open('http://openl-tablets.sourceforge.net/docs/openl-tablets/#{versionProperties['openl.version']}/OpenL Tablets - WebStudio User Guide/index.html','help','width=1000,height=800,screenX=50,screenY=100,resizable=yes,scrollbars=yes,status=yes');return false;"
                title="Help">Help</a>
            <span id="userName" title="Current user" style="margin: 0 1px 0 9px">
                <authz:authentication operation="username" />
            </span>
            <a href="#{contextPath}/security_logout" title="Logout"
                onclick="return confirm('Are you sure you want to logout?')">Logout</a>
        </div>

        <div id="ll" style="position: absolute; top: 8px; right: 255px;">
            <a href="#{contextPath}" class="#{menu=='rules' ? 'active' : ''}" onclick="#{menu=='rules' ? 'return false' : ''}">Rules Editor</a><a
                href="#{contextPath}/faces/pages/modules/repository/index.xhtml" class="#{menu=='repository' ? 'active' : ''}" onclick="#{menu=='repository' ? 'return false' : ''}">Repository</a>

            <c:set var="adminUrl" value="/faces/pages/modules/administration/index.xhtml" />
            <h:panelGroup rendered="#{authz:hasAccessTo(adminUrl)}">
                <a href="#{contextPath}#{adminUrl}" class="#{menu=='admin' ? 'active' : ''}" onclick="#{menu=='admin' ? 'return false' : ''}">Administration</a>
            </h:panelGroup>
        </div>
    </div>

</ui:composition>