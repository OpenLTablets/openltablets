<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rules="http://openl-tablets.sourceforge.net/jsf"
    template="/facelets/common/studioBase.xhtml">

    <ui:define name="page">

        <br />

        <c:set var="uri" value="#{param.uri}" />

        <h:panelGroup rendered="#{empty uri}">
            <h2>Source View Frame</h2>
            <p> This frame will show the source table for the values you select using the navigation frame on the left.
                You will be able to navigate to the original document from here as usual. If the value is an expression
                or a formula, you can explore it's content by opening the tree branch of that expression. 
            </p>
        </h:panelGroup>

        <h:panelGroup rendered="#{not empty uri}">
            <table>
                <tr>
                    <td>
                        <h:outputText value=" #{showExplainTableBean.header}" />
                    </td>
                    <td>
                        <ui:include src="/facelets/tableViewMenu.xhtml" />
                    </td>
                </tr>
            </table>

            <br />

            <rules:tableEditor table="#{showExplainTableBean.table}" filter="#{showExplainTableBean.filter}"
                editable="false" collapseProps="true" view="#{showExplainTableBean.tableView}" />

        </h:panelGroup>

    </ui:define>

</ui:composition>